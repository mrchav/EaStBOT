# EaStBOT
Бот для телеграмм для отслеживания цен акций. 

Пользователь может поставить цель для какой либо акции и когда акция опускается или поднимается до указанной цели бот сигнализирует пользователю. 

###Доступные команды 
/add appl 110 3 comment - поставить задачу боту, если акции appl достигнут значения 110 уе за следующие 3 дня, то бот напомнит об этом пользовател. 
/activealerts - показать все активные задачи 
/del_ID -удалить задачу с указанным ID 
/help, /start - вывести помощь по командам. 

###Логика приложения: 
когда пользователь добавляет задачу: 
1. Отслеживаем сообщения которые вводит пользователь 
2. Если сообщение начинается с /add сплитим его через " " и проверяем что тип каждого элемента, если тип каждого эдемента соотвествует ожидаемому, то идём дальше. иначе возвращаем сообщение с ошибкой и памяткой как необходимо добавлять новую задачу
3. Если такая акция есть у нас в базе или в API Яху,то добавляем таск в таблицу с тасками , сначала без цен
4. Раз в несколько минут проверяем во всех ли задачах проставлены цены акций, если нет пытаемся скачать с Яху данные о данной акции
5. Если "таргет цена", которую установил пользователь, ниже текущей цены акции, то делаем пометку в базе, что цена должна упасть до "таргет цены" или наоборот вырасти, если текущая выше.
6. Далее раз в несколько минут бот проходит по всем активным задачам, проверяет актуальные цены акций и сигнализирует, если интересующая нас цена выросла или упала. 

